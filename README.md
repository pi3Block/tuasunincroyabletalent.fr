# The AI Voice Jury - Karaoke AI Singing Evaluation Platform

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.11](https://img.shields.io/badge/Python-3.11-blue.svg)](https://www.python.org/downloads/)
[![React 18](https://img.shields.io/badge/React-18-61dafb.svg)](https://reactjs.org/)
[![Docker](https://img.shields.io/badge/Docker-Compose-2496ed.svg)](https://docs.docker.com/compose/)
[![CUDA](https://img.shields.io/badge/CUDA-GPU%20Accelerated-76b900.svg)](https://developer.nvidia.com/cuda-zone)

> **AI-powered karaoke singing evaluation platform** with real-time pitch detection, lyrics synchronization, and personalized feedback from AI jury personas - like "Got Talent" TV shows!

> **Plateforme de karaokÃ© avec Ã©valuation IA** incluant dÃ©tection de pitch en temps rÃ©el, synchronisation des paroles et feedback personnalisÃ© par des personas IA - style Ã©missions "Incroyable Talent" !

ğŸ¤ **Live Demo / DÃ©mo en ligne**: [tuasunincroyabletalent.fr](https://tuasunincroyabletalent.fr)

---

**[English](#english)** | **[FranÃ§ais](#franÃ§ais)**

---

## ğŸ“¸ Screenshots / Captures d'Ã©cran

<p align="center">
  <img src="docs/screenshots/01-search.png" alt="Song Search / Recherche de chanson" width="250"/>
  <img src="docs/screenshots/02-recording.png" alt="Recording / Enregistrement" width="250"/>
  <img src="docs/screenshots/03-results.png" alt="Results / RÃ©sultats" width="250"/>
</p>

<p align="center">
  <em>Song Search â€¢ Recording with Lyrics â€¢ AI Jury Results</em><br/>
  <em>Recherche â€¢ Enregistrement avec Paroles â€¢ RÃ©sultats du Jury IA</em>
</p>

---

# English

## Table of Contents

- [Features](#-features)
- [How It Works](#-how-it-works)
- [Tech Stack](#-tech-stack)
- [Quick Start](#-quick-start)
- [Architecture](#-architecture)
- [API Reference](#-api-reference)
- [Configuration](#-configuration)
- [Performance](#-performance)
- [Troubleshooting](#-troubleshooting)
- [Contributing](#-contributing)
- [License](#-license)

---

## ğŸŒŸ Features

### Core Features
- **Spotify Integration** - Search and select any song from Spotify's catalog
- **YouTube Auto-Match** - Automatically finds the matching YouTube video for karaoke playback
- **Real-time Lyrics Sync** - Synchronized lyrics display with adjustable offset (Â±5 minutes)
- **AI Voice Separation** - Demucs-powered vocal isolation for accurate comparison
- **Pitch Detection** - CREPE neural network for precise pitch analysis
- **Speech Recognition** - Whisper transcription for lyrics accuracy scoring

### Studio Mode (NEW)
- **Multi-track Mixer** - Separate volume controls for vocals and instrumentals
- **Practice Mode** - Train with the reference before recording
- **Real-time Playback** - Listen to separated tracks during analysis
- **Comparison Mode** - Compare your voice with the original side-by-side

### AI Jury System
- **3 Unique Personas**:
  - ğŸ”´ **The Harsh Critic** - Direct, demanding feedback
  - ğŸŸ¢ **The Encouraging Coach** - Supportive, motivating comments
  - ğŸ”µ **The Technical Expert** - Detailed musical analysis
- **Personalized Feedback** - Natural language comments generated by Ollama LLM
- **Scoring System** - Pitch (40%), Rhythm (30%), Lyrics (30%)

### User Experience
- **Mobile-First Design** - Optimized for smartphones
- **Karaoke Mode** - Word-by-word highlight (Apple Music style)
- **Tap-to-Sync** - Click any lyric line to sync with playback
- **Auto-Scroll** - Smart scroll that detects user interaction

---

## ğŸ¯ How It Works

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    THE AI VOICE JURY PIPELINE                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. SETUP                    2. PRACTICE (Optional)             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Select Song â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Studio Mode â”‚                    â”‚
â”‚  â”‚  (Spotify)  â”‚             â”‚  (Mixer)    â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚         â”‚                           â”‚                           â”‚
â”‚         â–¼                           â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚                           â”‚
â”‚  â”‚ YouTube     â”‚                    â”‚                           â”‚
â”‚  â”‚ Auto-Match  â”‚                    â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                    â”‚                           â”‚
â”‚         â”‚                           â”‚                           â”‚
â”‚         â–¼                           â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             3. PERFORM                         â”‚
â”‚  â”‚ Demucs      â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Separation  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Sing Along  â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  (Record)   â”‚                    â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                     â”‚                           â”‚
â”‚                                     â–¼                           â”‚
â”‚                              4. ANALYZE                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚               â”‚
â”‚  â”‚  â”‚  CREPE  â”‚  â”‚ Whisper â”‚  â”‚ Librosa â”‚       â”‚               â”‚
â”‚  â”‚  â”‚  Pitch  â”‚  â”‚  Text   â”‚  â”‚ Rhythm  â”‚       â”‚               â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â”‚               â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚               â”‚
â”‚  â”‚                   â–¼                          â”‚               â”‚
â”‚  â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚               â”‚
â”‚  â”‚            â”‚   SCORING   â”‚                   â”‚               â”‚
â”‚  â”‚            â”‚ Pitch: 40%  â”‚                   â”‚               â”‚
â”‚  â”‚            â”‚ Rhythm: 30% â”‚                   â”‚               â”‚
â”‚  â”‚            â”‚ Lyrics: 30% â”‚                   â”‚               â”‚
â”‚  â”‚            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                      â–¼                                          â”‚
â”‚               5. AI JURY                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚               â”‚
â”‚  â”‚  â”‚  Harsh  â”‚  â”‚ Support â”‚  â”‚Technicalâ”‚       â”‚               â”‚
â”‚  â”‚  â”‚  Critic â”‚  â”‚  Coach  â”‚  â”‚ Expert  â”‚       â”‚               â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚               â”‚
â”‚  â”‚         â–¼           â–¼           â–¼            â”‚               â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚               â”‚
â”‚  â”‚  â”‚     Ollama LLM (Llama 3.2)           â”‚    â”‚               â”‚
â”‚  â”‚  â”‚     Personalized Feedback            â”‚    â”‚               â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›  Tech Stack

### Frontend
| Technology | Purpose |
|------------|---------|
| **React 18** | UI Framework |
| **TypeScript** | Type Safety |
| **Vite 6** | Build Tool & Dev Server |
| **Zustand 5** | State Management |
| **Tailwind CSS 3** | Styling |
| **Radix UI** | Accessible Components |
| **Web Audio API** | Multi-track audio processing |

### Backend
| Technology | Purpose |
|------------|---------|
| **FastAPI** | REST API Framework |
| **Python 3.11** | Runtime |
| **PostgreSQL 16** | Database |
| **Redis 7** | Cache & Task Queue |
| **Celery 5** | Background Tasks |

### AI/ML (GPU-Accelerated)
| Technology | Purpose |
|------------|---------|
| **Demucs (htdemucs)** | Vocal/Instrumental Separation |
| **CREPE** | Neural Pitch Detection |
| **Whisper (turbo)** | Speech-to-Text |
| **Ollama (Llama 3.2)** | LLM for Jury Comments |
| **PyTorch + CUDA** | GPU Acceleration |

### Infrastructure
| Technology | Purpose |
|------------|---------|
| **Docker Compose** | Container Orchestration |
| **NVIDIA CUDA** | GPU Computing |
| **Coolify** | Self-hosted PaaS |
| **Traefik** | Reverse Proxy & TLS |

---

## ğŸš€ Quick Start

### Prerequisites

- Docker & Docker Compose
- NVIDIA GPU with CUDA support
- Spotify Developer Account
- 16GB+ RAM recommended

### Installation

```bash
# Clone the repository
git clone https://github.com/pi3music/tuasunincroyabletalent.fr.git
cd tuasunincroyabletalent.fr

# Copy environment file
cp .env.example .env

# Edit .env with your credentials
nano .env

# Start all services
docker-compose up -d

# Check logs
docker-compose logs -f api worker-heavy

# Access the app
open http://localhost:3000
```

### Development Mode

```bash
# Frontend (hot reload)
cd frontend && npm install && npm run dev

# Backend (auto-reload)
cd backend && pip install -r requirements.txt
uvicorn app.main:app --reload --port 8000

# Worker (Celery)
cd worker && celery -A tasks.celery_app worker --loglevel=info
```

---

## ğŸ— Architecture

```
tuasunincroyabletalent.fr/
â”œâ”€â”€ frontend/                    # React + Vite
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ lyrics/          # Professional lyrics display
â”‚   â”‚   â”‚   â””â”€â”€ ui/              # Radix UI components
â”‚   â”‚   â”œâ”€â”€ audio/               # Studio Mode
â”‚   â”‚   â”‚   â”œâ”€â”€ components/      # StudioMode, TrackMixer, TransportBar
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/           # useMultiTrack
â”‚   â”‚   â”‚   â””â”€â”€ core/            # AudioContext, TrackProcessor
â”‚   â”‚   â”œâ”€â”€ stores/              # Zustand stores
â”‚   â”‚   â””â”€â”€ api/                 # API client
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/                     # FastAPI
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ routers/             # session, audio, search
â”‚   â”‚   â””â”€â”€ services/            # spotify, youtube, lyrics
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ worker/                      # Celery (GPU tasks)
â”‚   â”œâ”€â”€ tasks/
â”‚   â”‚   â”œâ”€â”€ pipeline.py          # Main orchestrator
â”‚   â”‚   â”œâ”€â”€ audio_separation.py  # Demucs
â”‚   â”‚   â”œâ”€â”€ pitch_analysis.py    # CREPE
â”‚   â”‚   â”œâ”€â”€ transcription.py     # Whisper
â”‚   â”‚   â””â”€â”€ scoring.py           # Ollama jury
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ docker-compose.yml           # Development
â”œâ”€â”€ docker-compose.coolify.yml   # Production (Coolify)
â””â”€â”€ CLAUDE.md                    # AI assistant instructions
```

---

## ğŸ“¡ API Reference

### Session Management

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/session/start` | POST | Create new session with Spotify track |
| `/api/session/{id}/status` | GET | Get session status & progress |
| `/api/session/{id}/upload-recording` | POST | Upload user recording |
| `/api/session/{id}/analyze` | POST | Start analysis pipeline |
| `/api/session/{id}/analysis-status` | GET | Get analysis progress & results |

### Audio Streaming

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/audio/{id}/tracks` | GET | List available audio tracks |
| `/api/audio/{id}/{source}/{type}` | GET | Stream audio track |

---

## âš™ï¸ Configuration

### Environment Variables

```env
# Database
DATABASE_URL=postgresql://voicejury:password@postgres:5432/voicejury
REDIS_URL=redis://redis:6379/0

# Spotify API
SPOTIFY_CLIENT_ID=your_client_id
SPOTIFY_CLIENT_SECRET=your_client_secret

# Genius API (Lyrics)
GENIUS_API_TOKEN=your_token

# Ollama LLM
OLLAMA_HOST=http://ollama:11434

# Security
SECRET_KEY=your_secret_key
WHISPER_MODEL=turbo
```

---

## âš¡ Performance

### Benchmarks (NVIDIA RTX 3080)

| Operation | Duration |
|-----------|----------|
| Demucs Separation | ~25s (3min song) |
| Whisper Transcription | ~8s |
| CREPE Pitch Analysis | ~4s |
| Ollama Jury Comments | ~5s |
| **Total Analysis** | **<60s** |

---

## ğŸ”§ Troubleshooting

| Problem | Solution |
|---------|----------|
| Studio not loading | Wait for Demucs separation (~25s) |
| No results after analysis | Check logs: `docker-compose logs worker-heavy` |
| CUDA out of memory | Reduce `WHISPER_MODEL` to `small` |

---

# FranÃ§ais

## Table des matiÃ¨res

- [FonctionnalitÃ©s](#-fonctionnalitÃ©s)
- [Comment Ã§a marche](#-comment-Ã§a-marche)
- [Stack Technique](#-stack-technique)
- [DÃ©marrage Rapide](#-dÃ©marrage-rapide)
- [Architecture](#-architecture-1)
- [RÃ©fÃ©rence API](#-rÃ©fÃ©rence-api)
- [Configuration](#-configuration-1)
- [Performance](#-performance-1)
- [DÃ©pannage](#-dÃ©pannage)

---

## ğŸŒŸ FonctionnalitÃ©s

### FonctionnalitÃ©s principales
- **IntÃ©gration Spotify** - Recherchez et sÃ©lectionnez n'importe quelle chanson
- **Auto-Match YouTube** - Trouve automatiquement la vidÃ©o YouTube correspondante
- **Paroles synchronisÃ©es** - Affichage avec dÃ©calage ajustable (Â±5 minutes)
- **SÃ©paration vocale IA** - Isolation des voix par Demucs
- **DÃ©tection de pitch** - RÃ©seau neuronal CREPE
- **Reconnaissance vocale** - Transcription Whisper

### Mode Studio (NOUVEAU)
- **Mixeur multi-pistes** - ContrÃ´les de volume sÃ©parÃ©s pour voix et instrumentaux
- **Mode Pratique** - EntraÃ®nez-vous avec la rÃ©fÃ©rence avant d'enregistrer
- **Lecture en temps rÃ©el** - Ã‰coutez les pistes sÃ©parÃ©es pendant l'analyse

### SystÃ¨me de Jury IA
- **3 Personas uniques** :
  - ğŸ”´ **Le Cassant** - Feedback direct et exigeant
  - ğŸŸ¢ **L'Encourageant** - Commentaires positifs et motivants
  - ğŸ”µ **Le Technique** - Analyse musicale dÃ©taillÃ©e
- **Scoring** - Justesse (40%), Rythme (30%), Paroles (30%)

### ExpÃ©rience Utilisateur
- **Design Mobile-First** - OptimisÃ© pour smartphones
- **Mode KaraokÃ©** - Surlignage mot par mot (style Apple Music)
- **Tap-to-Sync** - Cliquez sur une ligne pour synchroniser

---

## ğŸ¯ Comment Ã§a marche

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PIPELINE THE AI VOICE JURY                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. PRÃ‰PARATION              2. PRATIQUE (Optionnel)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ SÃ©lection   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Mode Studio â”‚                    â”‚
â”‚  â”‚  (Spotify)  â”‚             â”‚  (Mixeur)   â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚         â”‚                           â”‚                           â”‚
â”‚         â–¼                           â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             3. PERFORMANCE                     â”‚
â”‚  â”‚ YouTube +   â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Demucs      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Chanter    â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ (Enregistr.)â”‚                    â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                     â–¼                           â”‚
â”‚                              4. ANALYSE                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  CREPE (Pitch) + Whisper (Texte) + Librosa   â”‚               â”‚
â”‚  â”‚                   â–¼                          â”‚               â”‚
â”‚  â”‚     Justesse 40% | Rythme 30% | Paroles 30%  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                     â–¼                                           â”‚
â”‚               5. JURY IA                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Le Cassant | L'Encourageant | Le Technique  â”‚               â”‚
â”‚  â”‚              Ollama LLM (Llama 3.2)          â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›  Stack Technique

| CatÃ©gorie | Technologies |
|-----------|--------------|
| **Frontend** | React 18, TypeScript, Vite 6, Zustand 5, Tailwind CSS 3 |
| **Backend** | FastAPI, Python 3.11, PostgreSQL 16, Redis 7, Celery 5 |
| **IA/ML** | Demucs, CREPE, Whisper, Ollama (Llama 3.2), PyTorch + CUDA |
| **Infra** | Docker Compose, NVIDIA CUDA, Coolify, Traefik |

---

## ğŸš€ DÃ©marrage Rapide

### PrÃ©requis

- Docker & Docker Compose
- GPU NVIDIA avec support CUDA
- Compte DÃ©veloppeur Spotify
- 16GB+ RAM recommandÃ©

### Installation

```bash
# Cloner le dÃ©pÃ´t
git clone https://github.com/pi3music/tuasunincroyabletalent.fr.git
cd tuasunincroyabletalent.fr

# Copier et Ã©diter le fichier d'environnement
cp .env.example .env && nano .env

# DÃ©marrer tous les services
docker-compose up -d

# VÃ©rifier les logs
docker-compose logs -f api worker-heavy
```

---

## ğŸ“¡ RÃ©fÃ©rence API

| Endpoint | MÃ©thode | Description |
|----------|---------|-------------|
| `/api/session/start` | POST | CrÃ©er une session avec piste Spotify |
| `/api/session/{id}/status` | GET | Statut et progression |
| `/api/session/{id}/upload-recording` | POST | Uploader l'enregistrement |
| `/api/session/{id}/analyze` | POST | DÃ©marrer l'analyse |
| `/api/session/{id}/analysis-status` | GET | Progression et rÃ©sultats |
| `/api/audio/{id}/tracks` | GET | Lister les pistes disponibles |

---

## âš¡ Performance

### Benchmarks (NVIDIA RTX 3080)

| OpÃ©ration | DurÃ©e |
|-----------|-------|
| SÃ©paration Demucs | ~25s (chanson 3min) |
| Transcription Whisper | ~8s |
| Analyse CREPE | ~4s |
| Commentaires Jury | ~5s |
| **Total** | **<60s** |

---

## ğŸ”§ DÃ©pannage

| ProblÃ¨me | Solution |
|----------|----------|
| Studio ne charge pas | Attendre la sÃ©paration Demucs (~25s) |
| Pas de rÃ©sultats | VÃ©rifier logs : `docker-compose logs worker-heavy` |
| CUDA mÃ©moire insuffisante | RÃ©duire `WHISPER_MODEL` Ã  `small` |

---

## ğŸ¤ Contribuer / Contributing

Les contributions sont les bienvenues ! / Contributions are welcome!

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

## ğŸ“„ Licence / License

MIT License - see [LICENSE](LICENSE)

---

## ğŸ™ Remerciements / Acknowledgments

- [Demucs](https://github.com/facebookresearch/demucs) by Meta AI
- [CREPE](https://github.com/marl/crepe) by NYU MARL
- [Whisper](https://github.com/openai/whisper) by OpenAI
- [Ollama](https://ollama.ai/) for local LLM inference
- [Spotify Web API](https://developer.spotify.com/documentation/web-api/)

---

<p align="center">
  Made with â¤ï¸ for aspiring singers everywhere<br/>
  Fait avec â¤ï¸ pour tous les chanteurs en herbe
  <br><br>
  <a href="https://tuasunincroyabletalent.fr">ğŸ¤ tuasunincroyabletalent.fr</a>
</p>
